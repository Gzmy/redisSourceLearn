## 整数集合
- 整数集合是集合键的底层实现之一, 当一个集合值包含整数值元素,并且
这个集合元素数量不多时,Redis就会使用整数集合作为集合键的底层实现

- 整数集合实现

```
typedef struct intset {
	uint32_t encoding; // 编码方式
	uint32_t length; // 集合包含的长度
	int8_t contents[]; // 保存元素的数组
} intset;
```

- 虽然contents声明为int8_t类型,但是contents不保存任何int8_t类型的
元素,数组正真的类型取决于encoding属性的值, 如果encoding属性的值是
INTSET_ENC_INT16,那么contents就是int64_t类型的数组, 一次类推

- 升级: 当我们要将一个新的元素插入到整数集合中, 并且新的元素类型比整数
集合现有的所有元素类型都要长,整数集合需要先进行升级,然后才能将新的元素
插入到整数集合中
	- 根据新的元素类型, 扩展整数集合底层数组的空间大小,并为新的元素分配空间
	- 将底层数组现有的元素都转换成与新的元素相同的类型, 并且将转换后的元素
	放置到正确的位置上, 在放置的过程中,需要维持底层数组的结构不变
	- 将新的元素添加到底层数组里面
	- 提高灵活性, 减少内存

- 降级: 整数集合不支持降级操作, 一旦对数组升级成功, 编码就会保持升级后的状态

函数|作用
:-: | :-:
intsetNew | 创建一个新的整数集合
intsetAdd | 将给定元素加入到整数集合里面
intsetRemove | 从整数集合中移除给定元素
intsetFind | 检查给定值是否存在于集合(底层有序,使用二分查找)
intsetRandom | 从整数集合中随机返回一个元素
intsetGet | 取出底层数组在给定索引上的元素
intsetLen | 返回整个几个包含元素的个数
intsetBlobLen | 返回整数集合占用的内存字节数
